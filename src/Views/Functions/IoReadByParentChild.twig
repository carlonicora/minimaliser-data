
    /**
    * @param int ${{ parentTable.attributes.primaryKey }}
    * @param array|null $page
    * @return {{ data.attributes.objectName }}[]
    * @throws MinimalismException
    */
    public function readBy{{ parentTable.attributes.primaryKeyCapitalised }}(
        int ${{ parentTable.attributes.primaryKey }},
        ?array $page,
    ): array
    {
        $factory = SqlQueryFactory::create({{ data.attributes.objectNamePlural }}Table::class)
{% if parentTable != false%}
            ->addJoin(new SqlJoinFactory(primaryKey: {{ data.attributes.objectNamePlural }}Table::{{ data.attributes.primaryKey }}, foreignKey: {{ childTable.attributes.objectNamePlural }}Table::{{ data.attributes.primaryKey }}))
{% endif %}
            ->addParameter(field: {{ childTable.attributes.objectNamePlural }}Table::{{ parentTable.attributes.primaryKey }}, value: ${{ parentTable.attributes.primaryKey }});

        $this->addPagination($factory, $page, {{ data.attributes.objectNamePlural }}Table::{{ data.attributes.primaryKey }});

        return $this->data->read(
        queryFactory: $factory,
        responseType: {{ data.attributes.objectName }}::class,
        requireObjectsList: true,
        );
    }